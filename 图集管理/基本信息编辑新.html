<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<link rel="stylesheet" href="../css/public/public.css">
        <link rel="stylesheet" href="../css/public/header-and-footer.css">
		<link rel="stylesheet" href="../css/atlasManagement/style.css">
		<script src="../js/jQuery-v1.11.1.js"></script>
        <script src="../js/placeholder.js"></script>
        <script src="../js/divSelect.js"></script>
        <script src="../js/atlasManagement/picLecture.js"></script>
		<script type="text/javascript" src="../js/jquery.promptToggle.js" ></script>
		<style>
			body{
				overflow:auto;
			}
		</style>
    </head>
    <body bgcolor="#000">
    	<div class="header">
	        <div class="left slogan">看典内容管理平台</div>
	        <div class="left name">
                <div class="inputWrap clearfix">
                    <input type="text" placeholder="请在此处输入讲座名称">
                    <a href="javascript:;" class="icon-save"></a>
                    <a href="javascript:;" class="icon-cancel"></a>
                </div>
            </div>
            <div class="right btnGroup clearfix">
                <a href="javascript:;" class="btn-save">保存</a>
                <a href="javascript:;" class="btn-preview">预览</a>
                <span class="left line"></span>
                <a href="javascript:;" class="btn-next">下一步</a>
            </div>
	    </div>
		<div class="container infoEdit">
			<div class="left menu">
				<a href="" class="item item1">图片</a>				
				<a href="" class="item item3 cur">内页模板</a>
				<a href="" class="item item4">音乐</a>
				<a href="" class="item item5">基本信息</a>
			</div>
			<div class="left main">
				<h1>基本信息编辑</h1>
				<div class="wrap clearfix">
					<div class="leftWrap left">
						<div class="row title clearfix">
							<label><i>*</i>名称：</label>
							<div class="frame clearfix">
								<input type="text">
								<span>0/40</span>
							</div>
						</div>
						<div class="row category clearfix">
							<label><i>*</i>分类：</label>
							<div class="frame select">
								<p>请选择</p>
								<ul>
								    <li>请选择</li>
									<li>生活休闲</li>
									<li>生活休闲</li>
									<li>生活休闲</li>
								</ul>
							</div>
						
						</div>
						<div class="row row6 clearfix">
                        <label><i>*</i>关键词</label>
                        <div class="kframe left" id="parentFrame">
                            <input class="colorGrey" id="keyword" type="text" value="多个关键词请用空格隔开，数量不超过5个" autocomplete="off" />
                        </div>
                       </div>
						<div class="row row7 clearfix">
                        <label><i>*</i>作者：</label>
                        <div class="left author">
                            <input type="text" id="" class="colorGrey" value="请输入中英文字符，最多不能超过100个字符" />
                        </div>
                        <script type="text/javascript">
                             PromptToggle($(".author input"),"请输入中英文字符，最多不能超过100个字符","colorGrey")
                        </script>
                    </div>      
						<div class="row shortcut clearfix">
							<label><i>*</i>简介：</label>
							<div class="frame editBox">
								<div class="tools">
									<div class="s2 left clearfix">
										<div class="fontFamily select left">
											<p>微软雅黑</p>
											<ul>
												<li>宋体</li>
												<li>微软雅黑</li>
												<li>隶书</li>
												<li>黑体</li>
												<li>幼圆</li>
												<li>楷体</li>
												<li>黑体</li>
												<li>幼圆</li>
												<li>楷体</li>
												<li>黑体</li>
												<li>幼圆</li>
												<li>楷体</li>
											</ul>
										</div>
										<div class="fontSize select left">
											<p>16px</p>
											<ul>
												<li>12px</li>
												<li>14px</li>
												<li>16px</li>
												<li>18px</li>
												<li>20px</li>
												<li>22px</li>
												<li>24px</li>
												<li>26px</li>
												<li>28px</li>
											</ul>
										</div>
										<a href="javascript:void(0);" class="left textSet bold"><img src="../images/atlasManagement/toolsbar-icon4.png" width="11" height="17"></a>
				<a href="javascript:void(0);" class="left textSet italic"><img src="../images/atlasManagement/toolsbar-icon5.png" width="11" height="17"></a>
										<a href="javascript:void(0);" class="left textSet underline"><img src="../images/atlasManagement/toolsbar-icon6.png" width="12" height="17"></a>
										<a href="javascript:void(0);" class="left textSet color"><img src="../images/atlasManagement/toolsbar-icon7.png" width="15" height="17"></a>
										<a href="javascript:void(0);" class="left textSet bgcolor"><img src="../images/atlasManagement/toolsbar-icon8.png" width="19" height="17"></a>
									</div>
									<div class="s3 left clearfix">
											<a href="javascript:void(0);" class="left alignSet tleft"><img src="../images/atlasManagement/toolsbar-icon9.png" width="14" height="17"></a>
											<a href="javascript:void(0);" class="left alignSet tcenter"><img src="../images/atlasManagement/toolsbar-icon10.png" width="15" height="17"></a>
										<a href="javascript:void(0);" class="left alignSet tright"><img src="../images/atlasManagement/toolsbar-icon11.png" width="14" height="17"></a>
											<!--    <a href="javascript:void(0);" class="left sjSet sj1"><img src="../images/atlasManagement/toolsbar-icon12.png" width="15" height="17"/></a>-->
											<a href="javascript:void(0);" class="left sjSet sj2"><img src="../images/atlasManagement/toolsbar-icon13.png" width="15" height="17"></a>
											<div class="left lineHeight">
											<p><img src="../images/atlasManagement/toolsbar-icon14.png" width="18" height="17"></p>
											<ul style="display: none;">
												<li class="select"><a href="javascript:void(0);">1</a></li>
												<li><a href="javascript:void(0);">1.5</a></li>
												<li><a href="javascript:void(0);">1.75</a></li>
												<li><a href="javascript:void(0);">2</a></li>
												<li><a href="javascript:void(0);">3</a></li>
												<li><a href="javascript:void(0);">4</a></li>
												<li><a href="javascript:void(0);">5</a></li>
											</ul>
											</div>
									</div>
									<div class="s4 left clearfix">
										<a href="javascript:void(0);" class="left media link"><img src="../images/atlasManagement/toolsbar-icon15.png" width="15" height="17"></a>
										<a href="javascript:void(0);" class="left media pic"><img src="../images/atlasManagement/toolsbar-icon16.png" width="15" height="17"></a>

									</div>
								</div>
								<textarea placeholder="针对发布的讲座简单介绍背景、目的、内容 、目录等信息"></textarea>
							</div>
							<p class="wordLimit">0/2000</p>
						</div>
					</div>
					<div class="rightWrap left">
						<div class="row cover clearfix">
							<div class="clearfix">
								<label><i>*</i>封面：</label>
								<dl class="clearfix">
									<dt>
										</dt><dd>
											<p>建议封面尺寸为<i>750px*560px或4:3</i></p>
											<p>图片需小于2M，支持jpg,gif,png</p>
										</dd>
									
								</dl>
							</div>
							<a href="javascript:;" class="btn">本地上传</a>
						</div>
						<div class="row price clearfix">
							<label><i>*</i>售卖方式：</label>
							<div class="info left">
								<div class="checkbox">支持单独售卖</div>
								<div class="box">
									<div class="radios">
										<span class="left radio check">付费</span>
										<span class="left radio">免费</span>
									</div>
									<div class="item clearfix">
										<span class="left">价格</span>
										<input type="text" class="left" value="0.1" autocomplete="off" />
										<i class="left">元</i>
									</div>
									<div class="item clearfix">
										<span class="left">原价</span>
										<input type="text" class="left colorGrey" value="选填" autocomplete="off"/>
										<i class="left">元</i>
									</div>
									<script>
									PromptToggle($(".item input"),"选填","left colorGrey","left")
									</script>
								</div>
								<div class="checkbox">关联微刊</div>
								<div class="webook">
									<a href="javascript:;" class="choose">+&nbsp;&nbsp;选择微刊</a>
								</div>
							</div>
						</div>
						<div class="agreement-checkbox">
							<input type="checkbox">我已阅读并同意 <a href="">《知识产权承诺书》</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<script>
			$(function () {
				//调用模拟下拉
				$.divselect($(".select p"), $(".select ul:not(.select2 ul)"), $(".select ul li:not(.select2 ul li)"));
				$(".tools .select p").click(function () {
					$(".lineHeight ul").hide()
				});
				// 分别设置文本属性，对齐方式，缩进的选中状态
				$(".textSet").click(function () {
					$(this).toggleClass("click")
				})
				$(".alignSet").click(function () {
					$(this).addClass("click").siblings(".alignSet").removeClass("click")
				})
				$(".sjSet").click(function () {
					$(this).addClass("click").siblings(".sjSet").removeClass("click")
				})
				//行距脚本
				$(".lineHeight").click(function (e) {
					$(".tools ul").hide()
					$(this).addClass("click")
					$(this).find("ul").slideDown(200)
					e.stopPropagation();
				})
				$(".lineHeight li").click(function (e) {
					$(this).addClass("select").siblings().removeClass("select")
					$(this).parents(".lineHeight").removeClass("click")
					$(this).parent("ul").slideUp(200)
					e.stopPropagation();
				})
				$(document).click(function () {
					$(".lineHeight").removeClass("click")
					$(".lineHeight ul").hide();
				})
			});
			 //复选框
        $(".checkbox").click(function(){
            $(this).toggleClass("checked")
        })
        //radio
        $(".radios span").click(function(){
            $(this).addClass("check").siblings().removeClass("check")
        })
		</script>
	     <script>
         /*插入关键字*/
    (function(){
    var input=$("#keyword");
    var jsNode=document.getElementById("keyword");
    function CreateKeywordNode(value)
    {
      var keyword=document.createElement("div");
      var closeIt=document.createElement("div");
      closeIt.className="close";
      keyword.className="keyword";
      var text=document.createTextNode(value);
      keyword.appendChild(text);
      keyword.appendChild(closeIt);
      document.getElementById("parentFrame").insertBefore(keyword,jsNode);
        jsNode.value="";
    }
    /*根据用户的输入是否带有空格来判断*/
    input.keyup(function(e)
    {
      var value=$(this).val();
      var useInputLength=value.length;
      
      if($.trim(value).length!=useInputLength && Boolean($.trim(value).length))
      {
        var children=$(this).parent().children();
        var sumLen=0;
        var childrenLen=children.length;
        for(var i=0;i<childrenLen;i++)
        {
          sumLen += children.eq(i).width();
        }
        if(/*sumLen<350*/1)
        {
          CreateKeywordNode(jsNode.value);
          $(".keyword .close").click(function(){$(this).parent().remove();});
        }
      }
    });
    input.focus(function()
    {
      if($(this).val()=="多个关键词请用空格隔开，数量不超过5个")
      {
        $(this).val("");
        $(this).removeClass("colorGrey");
        $(this).css({"width":"120px"})
      }
    })
    input.blur(function()
    {
      if($(this).val()=="" && $(this).parent().children().length==1)
      {
        $(this).val("多个关键词请用空格隔开，数量不超过5个");
        $(this).addClass("colorGrey");
        $(this).css({"width":"262px"})
      }
      else
      {
        var value=$(this).val();
        var useInputLength=value.length;
        if($.trim(value).length==useInputLength && Boolean($.trim(value).length))
        {
          var children=$(this).parent().children();
          var sumLen=0;
          var childrenLen=children.length;
          for(var i=0;i<childrenLen;i++)
          {
            sumLen += children.eq(i).width();
          }
          if(sumLen<350)
        {
            CreateKeywordNode(jsNode.value);
            $(".keyword .close").click(function(){$(this).parent().remove();});
          }
        }
      }
    })
      })()
     </script>  
	
    </body>
</html>